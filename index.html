<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Piano</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: black;
            color: white;
        }
        .piano {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        .key {
            width: 50px;
            height: 200px;
            border: 1px solid white;
            cursor: pointer;
            display: inline-block;
            user-select: none;
        }
        .white {
            background: white;
            color: black;
        }
        .black {
            background: black;
            height: 120px;
            width: 30px;
            margin-left: -15px;
            margin-right: -15px;
            z-index: 2;
            position: relative;
        }
        .active {
            background: cyan !important;
        }
    </style>
</head>
<body>
    <h1>Interactive Piano</h1>
    <button onclick="startSequence()">Start</button>
    <button onclick="stopSequence()">Stop</button>
    <div class="piano" id="piano"></div>

    <script>
        const piano = document.getElementById("piano");
        const notes = [
            { note: "C4", type: "white" }, { note: "C#4", type: "black" },
            { note: "D4", type: "white" }, { note: "D#4", type: "black" },
            { note: "E4", type: "white" },
            { note: "F4", type: "white" }, { note: "F#4", type: "black" },
            { note: "G4", type: "white" }, { note: "G#4", type: "black" },
            { note: "A4", type: "white" }, { note: "A#4", type: "black" },
            { note: "B4", type: "white" }, { note: "C5", type: "white" }
        ];
        
        const synth = new Tone.Synth().toDestination();
        
        notes.forEach((key, index) => {
            let keyElement = document.createElement("div");
            keyElement.classList.add("key", key.type);
            keyElement.dataset.note = key.note;
            keyElement.onclick = () => {
                synth.triggerAttackRelease(key.note, "8n");
                keyElement.classList.add("active");
                setTimeout(() => keyElement.classList.remove("active"), 200);
            };
            piano.appendChild(keyElement);
        });
    </script>
</body>
</html>
